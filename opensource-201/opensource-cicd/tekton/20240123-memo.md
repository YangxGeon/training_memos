# day 1

- __이름:__ 최국현
- __메일:__ <tang@linux.com>


교재는 PDF로 배포가 되었습니다. 메모 내용은 아래 주소에서 확인이 가능 합니다.
1. https://github.com/tangt64/training_memos/tree/main/opensource-201/opensource-cicd/tekton
>
2. https://wbd.ms/share/v2/aHR0cHM6Ly93aGl0ZWJvYXJkLm1pY3Jvc29mdC5jb20vYXBpL3YxLjAvd2hpdGVib2FyZHMvcmVkZWVtLzZkOGNjNTQzOGRhODQ0ODZhMjU0ZDVjMjhiNWY1ODhjX0JCQTcxNzYyLTEyRTAtNDJFMS1CMzI0LTVCMTMxRjQyNEUzRF81MTQ2NjBmNC1hOTg5LTRhY2QtYjMwNi04MWRlNDZlZWY3YTg=

__교육시간:__ 50분 간격 + __15분__ 쉬는시간<br/>
__점심시간:__ 12시 00분 ~ 01시 20분(20분까지는 오세요)<br/>
__집에가는 시간:__ 18시 20분 :)<br/>



## 테크톤 소개

1. YAML
데이터 선언, 쿠버네티스, 오픈스택(Heat), 앤서벌, 솔트 이러한 자동화 도구.

2. TOML(=INI)
설정 파일. 이전에 사용하던 INI형식이나 혹은 Apacge설정 형식을 대신. 추가적으로 데이터 선언이 가능한 문법.

3. JSON
이전에는 JSON기반으로 자동화 및 API 데이터(payload)를 관리 및 처리. 테크톤도 내부적으로 JSON으로 데이터 처리. 


결론은 테크톤도 외부에서 데이터 입력은 YAML, 처리는 JSON 형식으로 처리. 


## 테크톤/젠킨스

1. 테크톤 입문의 문턱이 낮음.(YAML)
2. 젠킨스의 본래 용도는 빌드 시스템(Java,JDK)
3. 작업 관리 및 순서(TOP-DOWN)
4. 쿠버네티스와 통합(YAML+API)

## 설치

설치는 PDF파일 참고 부탁 드립니다.

## 테크톤 소개 및 랩

[테크톤 웹 사이트](https://tekton.dev/docs/)
[테크톤 컨셉](https://tekton.dev/docs/concepts/concept-model/)

```bash
kubectl completion bash > kubectl.sh
tkn completion bash > tkn.sh
source kubectl.sh
source tkn.sh
```

- tkn: 테크톤 전용 명령어. kubectl하고 별도록 사용.
- kubectl: 바닐라 ctl명령어에서 조회는 가능. 하지만, 실행은 불가능.


```yaml
vi hello.yaml
---
apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: hello
spec:
  steps:
    - name: welcome-message
      image: quay.io/centos/centos
      command:
        - /bin/bash
        - -c
        - echo "Hello World"
```
```bash
kubectl apply -f hello.yaml
kubectl get tasks
tkn task list
tkn task start hello
kubectl get pod

kubectl logs pods/hello-run-jz45t-pod
tkn task logs hello
tkn task start hello --showlog
```